<!DOCTYPE HTML>
<html>
<head>
 <!-- 

Do NOT edit this file -  
This Generated by Starsky Docs 

-->
<meta charset="utf-8">
<title>Inotify settings</title><link rel="stylesheet" href="../assets/style/style.css"><meta name="viewport" content="width=device-width,initial-scale=1"/></head>
<body>

	<header class="docs-header">
		<div class="wrapper">
			<div class="detective"></div> <a href="../index.html" class="name">Starsky Docs</a>
		</div>
	</header>
<div id="app"><div class="container"><div class="entry-content"><div class="breadcrumb"><a href="../index.html">home</a> » <a href="readme.html">inotify-settings</a> » readme</div>
<h1 id="inotify-settings">Inotify settings</h1>
<h2 id="list-of-starskyreadmemd-projects">List of <a href="../readme.html">Starsky</a> Projects</h2>
<ul>
<li><strong><a href="../inotify-settings/readme.html">inotify-settings</a> to setup auto indexing on linux</strong></li>
<li><a href="../starsky/readme.html">starsky (sln)</a> <em>database photo index & import index project</em><ul>
<li><a href="../starsky/starsky/readme.html">starsky</a> <em>web api application / interface</em><ul>
<li><a href="../starsky/starsky/clientapp/readme.html">clientapp</a> <em>react front-end application</em></li></ul></li>
<li><a href="../starsky/starskysynccli/readme.html">starskySyncCli</a>  <em>database command line interface</em></li>
<li><a href="../starsky/starskyimportercli/readme.html">starskyImporterCli</a>  <em>import command line interface</em></li>
<li><a href="../starsky/starskygeocli/readme.html">starskyGeoCli</a>  <em>gpx sync and reverse 'geo tagging'</em></li>
<li><a href="../starsky/starskywebhtmlcli/readme.html">starskyWebHtmlCli</a>  <em>publish web images to a content package</em></li>
<li><a href="../starsky/starskywebftpcli/readme.html">starskyWebFtpCli</a>  <em>copy a content package to a ftp service</em></li>
<li><a href="../starsky/starskyadmincli/readme.html">starskyAdminCli</a>  <em>manage user accounts</em></li>
<li><a href="../starsky/starskybusinesslogic/readme.html">Starsky Business Logic</a> <em>business logic libraries (netstandard 2.0)</em></li>
<li><a href="../starsky/starskytest/readme.html">starskyTest</a>  <em>mstest unit tests</em></li></ul></li>
<li><a href="../starsky.netframework/readme.html">starsky.netframework</a> <em>Client for older machines</em></li>
<li><a href="../starsky-tools/readme.html">starsky-tools</a> <em>nodejs tools to add-on tasks</em></li>
<li><a href="../starskyapp/readme.html">starskyapp</a> <em>Desktop Application (Pre-alpha code)</em></li>
</ul>
<h2 id="inotifywait">inotifywait</h2>
<p>For linux systems there is <code>inotifywait</code>. To auto update the database in real time, you could use a helper to do this:</p>
<p>This example configuration handles currently only <code>.jpg</code> and <code>.JPG</code> files</p>
<h3 id="first-install-tools">First install tools</h3>
<p>Install the tools that are used by this script</p>
<pre><code class="sh language-sh">sudo apt-get install inotify-tools</code></pre>
<h3 id="inotify-bash-script">inotify bash script</h3>
<p>Make a bash script with content that is in the <code>inotify.sh</code> script that is placed in this folder</p>
<pre><code class="sh language-sh">sudo nano /usr/local/sbin/inotify.sh</code></pre>
<blockquote>
  <p>copy content from <code>inotify.sh</code> to the <code>/usr/local/sbin</code> folder</p>
</blockquote>
<p>Make the <code>inotify.sh</code> script executable</p>
<pre><code class="sh language-sh">sudo chmod ug+x /usr/local/sbin/inotify.sh</code></pre>
<h3 id="starsky-conf">Starsky conf</h3>
<p>Make a config file with content that is in the <code>starsky.conf</code> script that is placed in this folder</p>
<pre><code class="sh language-sh">sudo nano /usr/local/etc/inotify.d/starsky.conf</code></pre>
<blockquote>
  <p>copy content from <code>inotify.conf</code> to the <code>/usr/local/etc/inotify.d</code> folder</p>
</blockquote>
<h3 id="inotifyd-bash-script">inotifyd bash script</h3>
<p>Make a bash script with content that is in the <code>inotifyd.sh</code> script that is placed in this folder</p>
<pre><code class="sh language-sh">sudo nano /etc/init.d/inotifyd</code></pre>
<blockquote>
  <p>copy content from <code>inotifyd.sh</code> to the <code>/etc/init.d/</code> folder</p>
</blockquote>
<p>Make the <code>inotifyd.sh</code> script executable</p>
<pre><code class="sh language-sh">sudo chmod +x /etc/init.d/inotifyd</code></pre>
<h3 id="update-rc">update-rc</h3>
<p>To init the service run the following command</p>
<pre><code class="sh language-sh">sudo update-rc.d -f inotifyd defaults</code></pre>
<p>To start and restart the service run the next commands</p>
<pre><code class="sh language-sh">sudo service inotifyd start

sudo service inotifyd restart</code></pre>
<blockquote>
  <p>Source: <a href="http://wiki.lenux.org/using-csync2-with-inotifywait/">http://wiki.lenux.org/using-csync2-with-inotifywait/</a></p>
</blockquote>
<h2 id="cron-tabs">Cron Tab's</h2>
<p>To update the database using a interval you could use a crontab. In this folder there are example configs added.</p>
<h3 id="starskyhourly">starskyhourly</h3>
<p>Copy the <code>starskyhourly</code> script to the <code>/usr/local/sbin/</code> folder</p>
<pre><code class="sh language-sh">sudo nano /usr/local/sbin/starskyhourly.sh</code></pre>
<blockquote>
  <p>Add the data from <code>starskyhourly.sh</code></p>
</blockquote>
<h3 id="crontab--e">crontab -e</h3>
<p>To run the script hourly you need to add this to the crontab helper:</p>
<pre><code class="sh language-sh">crontab -e</code></pre>
<p>And add the following content</p>
<pre><code class="sh language-sh">0       *            *       *       *       /usr/local/sbin/starskyhourly.sh &gt; /home/pi/z-starskycli.log 2&gt;&amp;1</code></pre>
</div>
</div>
</div>
 </body>
</html>