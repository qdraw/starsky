<!DOCTYPE html>
<html>
    <head>
 <!-- 

Do NOT edit this file -  
This Generated by Starsky Docs 

-->
        <meta charset="utf-8" />
        <link rel="stylesheet" href="assets/style/style.css" />
        <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Starsky Importer CLI</title><link rel="stylesheet" href="../../assets/style/style.css"><meta name="viewport" content="width=device-width,initial-scale=1"/></head>
<body>

	<header class="docs-header">
		<div class="wrapper">
			<div class="detective"></div> <a href="../../index.html" class="name">Starsky Docs</a>
		</div>
	</header>
<div id="app"><div class="container"><div class="entry-content"><div class="breadcrumb"><a href="../../index.html">home</a> » <a href="../readme.html">starsky</a> » <a href="readme.html">starskyimportercli</a> » readme</div>
<!-- end breadcrumb -->
        <h1 id="starsky-importer-cli">Starsky Importer CLI</h1>
<h2 id="list-of-starsky-projects">List of <a href="../../readme.html">Starsky</a> Projects</h2><ul id='list-of-starsky-projects-element'>
<li><a href="../../starsky/readme.html">starsky (sln)</a> <em>database photo index &amp; import index project</em><ul>
<li><a href="../../starsky/starsky/readme.html">starsky</a> <em>web api application / interface</em><ul>
<li><a href="../../starsky/starsky/clientapp/readme.html">clientapp</a> <em>react front-end application</em></li>
</ul>
</li>
<li><strong><a href="../../starsky/starskyimportercli/readme.html">starskyImporterCli</a>  import command line interface</strong></li>
<li><a href="../../starsky/starskygeocli/readme.html">starskyGeoCli</a>  <em>gpx sync and reverse &#39;geo tagging&#39;</em></li>
<li><a href="../../starsky/starskywebhtmlcli/readme.html">starskyWebHtmlCli</a>  <em>publish web images to a content package</em></li>
<li><a href="../../starsky/starskywebftpcli/readme.html">starskyWebFtpCli</a>  <em>copy a content package to a ftp service</em></li>
<li><a href="../../starsky/starskyadmincli/readme.html">starskyAdminCli</a>  <em>manage user accounts</em></li>
<li><a href="../../starsky/starskysynchronizecli/readme.html">starskySynchronizeCli</a>  <em>check if disk changes are updated in the database</em></li>
<li><a href="../../starsky/starskythumbnailcli/readme.html">starskyThumbnailCli</a>  <em>speed web performance by generating smaller images</em></li>
<li><a href="../../starsky/starskybusinesslogic/readme.html">Starsky Business Logic</a> <em>business logic libraries (netstandard 2.0)</em></li>
<li><a href="../../starsky/starskytest/readme.html">starskyTest</a>  <em>mstest unit tests</em></li>
</ul>
</li>
<li><a href="../../starsky-tools/readme.html">starsky-tools</a> <em>nodejs tools to add-on tasks</em></li>
<li><a href="../../starskyapp/readme.html">starskyapp</a> <em>Desktop Application</em><ul>
<li><a href="https://qdraw.github.io/starsky/assets/download/download.html">Download Desktop App</a> <em>Windows and Mac OS version</em></li>
</ul>
</li>
<li><a href="../../history.html">Changelog</a> <em>Release notes and history</em></li>
</ul>
<h2 id="importer-cli-options">Importer CLI Options</h2>
<p>To automatically copy files from for example a SD-card to the photo library. It could copy a single file, a directory with only the direct child files or a recursive directory.  It automatically sort on the photos creation date.
The &#39;importer Cli&#39; could handle local imports, and in the &#39;Starsky web interface&#39; there is a web import available.</p>
<p>To recursive <em>(<code>-r</code>)</em> import from the sdcard</p>
<pre><code>./starskyimportercli -r -p &quot;/Volumes/sdcard/&quot;
</code></pre>
<h2 id="config-file-appsettingsjson">Config file (appsettings.json)</h2>
<p>For more information about the <code>appsettings.json</code> configuration</p>
<h3 id="structure-configuration">Structure configuration:</h3>
<p>The default structure in <code>appsettings.json</code> is:</p>
<pre><code class="language-json">{
  &quot;App&quot;: {
    &quot;ThumbnailTempFolder&quot;: &quot;/data/photodirectory/temp&quot;,
    &quot;StorageFolder&quot;: &quot;/data/photodirectory/storage&quot;,
    &quot;DatabaseType&quot;: &quot;sqlite&quot;,
    &quot;DatabaseConnection&quot;: &quot;Data Source=data.db&quot;,
    &quot;Structure&quot;: &quot;/yyyy/MM/yyyy_MM_dd*/yyyyMMdd_HHmmss_{filenamebase}.ext&quot;,
    &quot;ReadOnlyFolders&quot;: [&quot;/2015&quot;,&quot;/2018&quot;],
    &quot;ExifToolImportXmpCreate&quot;: &quot;true&quot;
  }
}
</code></pre>
<h4 id="appsettings-notes">Appsettings Notes</h4>
<ol>
<li>Structure uses slash as directory separator for Linux and Windows</li>
<li>The settings: <code>ExifToolPath</code>, <code>ThumbnailTempFolder</code> and  <code>StorageFolder</code> uses the system path directory separators</li>
<li>The <code>AddMemoryCache</code> setting is ignored in the console/cli applications</li>
<li>The setting: <code>ExifToolImportXmpCreate</code> is used to create at import time a xmp file based on the raw image (default: false)</li>
</ol>
<h3 id="structure-configuation-options">Structure configuation options:</h3>
<ul>
<li><code>dd</code> 	 *   The day of the month, from 01 through 31.</li>
<li><code>MM</code> 	 *   The month, from 01 through 12.</li>
<li><code>yyyy</code> 	*    The year as a four-digit number.</li>
<li><code>HH</code> 	 *   The hour, using a 24-hour clock from 00 to 23.</li>
<li><code>mm</code> 	 *   The minute, from 00 through 59.</li>
<li><code>ss</code> 	 *   The second, from 00 through 59.</li>
<li><code>\\</code>     *      (double escape sign or double backslash); to escape dd use this: \\d\\d</li>
<li><code>/</code>     *       (slash); is split in folder (Windows / Linux / Mac)</li>
<li><code>.ext</code>   *       (dot ext); extension for example: .jpg</li>
<li><code>{filenamebase}</code> * use the orginal filename without extension</li>
<li><code>*</code>      *     (asterisk); match anything</li>
<li><code>*starksy*</code>    *   Match the folder match that contains the word &#39;starksy&#39;</li>
</ul>
<p>Check for more date conversions:
<a href="https://docs.microsoft.com/en-us/dotnet/standard/base-types/custom-date-and-time-format-strings">https://docs.microsoft.com/en-us/dotnet/standard/base-types/custom-date-and-time-format-strings</a></p>
<h3 id="to-get-help">To get help:</h3>
<pre><code class="language-sh">./starskyimportercli --help
</code></pre>
<h3 id="the-starskyimportercli---help-window">The StarskyImporterCli --Help window:</h3>
<pre><code>Starksy Importer Cli ~ Help:
--help or -h == help (this window)
--path or -p == parameter: (string) ; full path
                can be an folder or file, use &#39;-p&#39; for current directory
                for multiple items use dot comma (;) to split and quotes (&quot;) around the input string
--move or -m == delete file after importing (default false / copy file)
--recursive or -r == Import Directory recursive (default: false / only the selected folder)
--structure == overwrite appsettings with filedirectory structure based on exif and filename create datetime
--index or -i == parameter: (bool) ; indexing, false is always copy, true is check if exist in db, default true
--clean or -x == true is to add a xmp sidecar file for raws, default true
--colorclass == update colorclass to this number value, default don&#39;t change
--verbose or -v == verbose, more detailed info
  use -v -help to show settings:
</code></pre>
<h2 id="structure-examples">Structure Examples</h2>
<p>There are examples of how to manual configure the structure setting. This is all based on the creation date of the image or if the &#39;exif tag&#39; <em>(data inside the photo)</em> is missing there is a filename structure is used.</p>
<h3 id="good-examples">Good examples</h3>
<h4 id="in-the-main-folder">In the main folder</h4>
<pre><code> input: /yyyyMMdd_HHmmss.ext
 output: /20180731_215100.jpg
</code></pre>
<h4 id="in-the-subfolder-2018">In the subfolder 2018</h4>
<pre><code> input: /yyyy/yyyyMMdd_HHmmss.ext
 output: /2018/20180731_215100.jpg
</code></pre>
<h4 id="using-orginal-name">Using orginal name</h4>
<pre><code>  input: /yyyy/{filenamebase}.ext
  output: /2018/example.jpg
</code></pre>
<h4 id="complete-with-asterisk">Complete with Asterisk</h4>
<p>With an Asterisk the folder with be autocompleted</p>
<pre><code>  input: &quot;/\\te\\s\\t*/{filenamebase}.ext&quot;
  output:  /test/example.jpg
</code></pre>
<h4 id="escape-characters-parsed">Escape characters parsed</h4>
<pre><code>  input: &quot;/\\te\\s/{filenamebase}.ext&quot;
  output: /tes/example.jpg
</code></pre>
<h4 id="only-an-asterix">Only an asterix</h4>
<p>Gets the first folder of the list or <code>default</code></p>
<pre><code>  input: /*/yyyyMMdd_HHmmss.ext
  output: /default/example.jpg
  or output: /first/example.jpg
</code></pre>
<h3 id="bad-examples">Bad examples</h3>
<h4 id="exception-due-missing-starting-slash">Exception due missing starting slash</h4>
<pre><code>  input: yyyy/yyyyMMdd_HHmmss.ext
  output: (Exception dus missing starting slash)
</code></pre>
<h4 id="exception-due-missing-extension">Exception due missing extension</h4>
<pre><code>  input: yyyy/yyyyMMdd_HHmmss
  output: (Exception dus missing missing extension)
</code></pre>

    </div>
</div>
</div>
 </body>
</html>
