<!DOCTYPE html>
<html>
    <head>
 <!-- 

Do NOT edit this file -  
This Generated by Starsky Docs 

-->
        <meta charset="utf-8" />
        <link rel="stylesheet" href="assets/style/style.css" />
        <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Docker instructions</title><link rel="stylesheet" href="../assets/style/style.css"><meta name="viewport" content="width=device-width,initial-scale=1"/></head>
<body>

	<header class="docs-header">
		<div class="wrapper">
			<div class="detective"></div> <a href="../index.html" class="name">Starsky Docs</a>
		</div>
	</header>
<div id="app"><div class="container"><div class="entry-content"><div class="breadcrumb"><a href="../index.html">home</a> » <a href="readme.html">starsky</a> » readme-docker-development</div>
<h2 id="list-of-starsky-projects">List of <a href="../readme.html" >Starsky</a> Projects</h2><ul id='list-of-starsky-projects-element'>
<li><a href="../starsky/readme.html" >starsky (sln)</a> <em>database photo index &amp; import index project</em><ul>
<li><a href="../starsky/starsky/readme.html" >starsky</a> <em>web api application / interface</em><ul>
<li><a href="../starsky/starsky/clientapp/readme.html" >clientapp</a> <em>react front-end application</em></li>
</ul>
</li>
<li><a href="../starsky/starskyimportercli/readme.html" >starskyImporterCli</a>  <em>import command line interface</em></li>
<li><a href="../starsky/starskygeocli/readme.html" >starskyGeoCli</a>  <em>gpx sync and reverse &#39;geo tagging&#39;</em></li>
<li><a href="../starsky/starskywebhtmlcli/readme.html" >starskyWebHtmlCli</a>  <em>publish web images to a content package</em></li>
<li><a href="../starsky/starskywebftpcli/readme.html" >starskyWebFtpCli</a>  <em>copy a content package to a ftp service</em></li>
<li><a href="../starsky/starskyadmincli/readme.html" >starskyAdminCli</a>  <em>manage user accounts</em></li>
<li><a href="../starsky/starskysynchronizecli/readme.html" >starskySynchronizeCli</a>  <em>check if disk changes are updated in the database</em></li>
<li><a href="../starsky/starskythumbnailcli/readme.html" >starskyThumbnailCli</a>  <em>speed web performance by generating smaller images</em></li>
<li><a href="../starsky/starskybusinesslogic/readme.html" >Starsky Business Logic</a> <em>business logic libraries (netstandard 2.0)</em></li>
<li><a href="../starsky/starskytest/readme.html" >starskyTest</a>  <em>mstest unit tests</em></li>
</ul>
</li>
<li><a href="../starsky-tools/readme.html" >starsky-tools</a> <em>nodejs tools to add-on tasks</em></li>
<li><a href="../starskyapp/readme.html" >starskyapp</a> <em>Desktop Application</em><ul>
<li><a href="https://qdraw.github.io/starsky/assets/download/download.html">Download Desktop App</a> <em>Windows and Mac OS version</em></li>
</ul>
</li>
<li><a href="../history.html" >Changelog</a> <em>Release notes and history</em></li>
</ul>

        <p><a href="readme.html">&lt; readme</a></p>
<h1 id="docker-instructions">Docker instructions</h1>
<p>One of the build options is to run Starsky from a docker container</p>
<h3 id="using-docker-compose">Using docker compose</h3>
<ol>
<li>To get started clone the repository</li>
</ol>
<pre><code class="language-sh">git clone &quot;https://github.com/qdraw/starsky.git&quot;
</code></pre>
<ol start="2">
<li><p>Install Docker Desktop
<a href="https://www.docker.com/products/docker-desktop">https://www.docker.com/products/docker-desktop</a></p>
</li>
<li><p>Go to the child directory</p>
<pre><code class="language-sh">cd starsky
</code></pre>
</li>
<li><p>Build with docker</p>
<pre><code class="language-sh">docker compose build
</code></pre>
</li>
<li><p>Enable containers</p>
<pre><code class="language-sh">docker compose up
</code></pre>
</li>
<li><p>Check if succeed</p>
<pre><code class="language-sh">curl http://localhost:12837/api/health -X GET
</code></pre>
</li>
</ol>
<h3 id="using-classic-docker-cli">Using classic docker CLI</h3>
<ol>
<li>To get started clone the repository</li>
</ol>
<pre><code class="language-sh">git clone &quot;https://github.com/qdraw/starsky.git&quot;
</code></pre>
<ol start="2">
<li><p>Install Docker Desktop or the docker-cli
<a href="https://www.docker.com/products/docker-desktop">https://www.docker.com/products/docker-desktop</a></p>
</li>
<li><p>Go to the child directory</p>
<pre><code class="language-sh">cd starsky
</code></pre>
</li>
<li><p>Build project</p>
<pre><code class="language-sh">export DOCKER_BUILDKIT=0
docker build -t starsky .
</code></pre>
<h3 id="optional-build-starsky-with-demo-user-and-demo-content">Optional: Build Starsky with demo user and demo content</h3>
<pre><code class="language-sh">docker build -t starsky . --build-arg ISDEMO=true
</code></pre>
</li>
<li><p>Run project</p>
</li>
</ol>
<pre><code class="language-sh">docker run -it --rm -p 8000:80 starsky
</code></pre>
<ol start="6">
<li>list of active dockers<pre><code class="language-sh">docker ps
</code></pre>
</li>
</ol>
<pre><code class="language-sh">docker exec -it d8094eb990de /bin/bash
</code></pre>
<ol start="7">
<li>And check if it runs<pre><code class="language-sh">curl http://localhost:8000/api/health -X GET
</code></pre>
</li>
</ol>
<h3 id="docker-buildx-for-multi-arch">Docker buildX for multi-arch</h3>
<pre><code class="language-sh">cd /root_of_repo
docker buildx build --push starsky --tag qdraw/starsky:latest --platform linux/arm64,linux/arm/v7
</code></pre>

    </div>
</div>
</div>
 </body>
</html>
